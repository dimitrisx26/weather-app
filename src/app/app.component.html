<div class="container-fluid">
  <div class="row">
    <nav class="navbar bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand">Weather</a>
        <form
          class="d-flex"
          role="search"
          (ngSubmit)="onSearchLocation(searchInput)"
        >
          <input
            class="form-control me-2"
            type="search"
            name="search"
            placeholder="Search"
            aria-label="Search"
            [(ngModel)]="searchInput"
          />
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </nav>

    <div
      class="col-12 mt-5 d-flex flex-column align-items-center justify-content-center text-center"
    >
      <h1>Weather</h1>
      <p>Get the current weather about any city in the world!</p>
    </div>

    <div class="col-12 mt-5 d-flex justify-content-center">
      @defer {
      <div
        class="d-flex flex-column align-items-center justify-content-center p-4 border border-1 border-dark rounded-3 bg-dark-subtle"
        style="width: 500px"
      >
        <h1><i class="bi bi-geo-alt-fill"></i>{{ weatherData.name }}</h1>
        <img
          [src]="
            'http://openweathermap.org/img/wn/' +
            weatherData.weather[0].icon +
            '.png'
          "
          alt="Weather icon"
          style="width: 100px; height: 100px"
        />
        <h3>{{ weatherData.weather[0].main }}</h3>
        <p style="font-size: 20px">
          <i class="bi bi-thermometer"></i>{{ weatherData.main.temp }}Â°C
        </p>
      </div>
      } @placeholder (minimum 400ms) {
      <div class="d-flex align-items-center justify-content-center mt-5">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
      }
      <div
        class="alert alert-danger w-50 position-absolute bottom-0"
        role="alert"
        *ngIf="showError"
      >
        {{ errorMessage }}
      </div>
    </div>
  </div>
</div>
